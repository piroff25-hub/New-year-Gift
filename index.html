<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>A New Chapter ‚Äî Annnnuuuuuu üíñ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;600&family=Dancing+Script:wght@700&display=swap');

        *{box-sizing:border-box}
        body{
            margin:0;
            font-family:'Poppins', sans-serif;
            background:radial-gradient(circle at top,#1b1b2f,#0b0b14);
            color:#fff;
            text-align:center;
            overflow-x:hidden;
        }
        section{
            min-height:100vh;
            display:none;
            align-items:center;
            justify-content:center;
            flex-direction:column;
            padding:20px;
        }
        section.active{display:flex; animation:fadeUp 0.8s forwards;}
        @keyframes fadeUp{
            from{opacity:0;transform:translateY(30px)}
            to{opacity:1;transform:translateY(0)}
        }
        .card{
            background:rgba(255,255,255,0.08);
            backdrop-filter:blur(12px);
            border-radius:22px;
            padding:25px;
            max-width:380px;
            width:100%;
            box-shadow:0 25px 50px rgba(0,0,0,.55);
            border: 1px solid rgba(255,255,255,0.1);
        }
        h1,h2{color:#ff9ecf; margin-bottom: 15px;}
        .special-header{
            font-family: 'Dancing Script', cursive;
            font-size: 32px;
            color: #ff9ecf;
            text-shadow: 0 0 15px rgba(255,158,207,0.6);
            animation: heartBeat 2s infinite;
        }
        @keyframes heartBeat {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        #photo {
            width: 100%;
            aspect-ratio: 4 / 5;
            object-fit: cover;
            object-position: center;
            border-radius: 15px;
            border: 2px solid rgba(255,158,207,0.3);
            margin-bottom: 10px;
        }
        button{
            margin: 10px 5px;
            padding:12px 26px;
            border:none;
            border-radius:30px;
            background:#ff4d88;
            color:white;
            font-size:14px;
            font-weight:600;
            cursor:pointer;
            transition: 0.3s;
        }
        button:hover{transform:scale(1.05); background:#ff3377;}
        
        .bucket-list { text-align: left; margin: 15px 0; }
        .bucket-item.fancy {
            background: rgba(255,255,255,0.05);
            margin: 12px 0;
            padding: 15px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: 0.3s;
            border: 1px solid transparent;
        }
        .bucket-item.fancy.selected {
            background: rgba(255, 77, 136, 0.15);
            border-color: #ff4d88;
            transform: scale(1.02);
        }
        .emoji { font-size: 20px; margin-right: 15px; }
        .text { font-size: 14px; font-weight: 300; }
        
        input{
            padding: 12px;
            border-radius: 20px;
            border: 2px solid #ff4d88;
            background: rgba(0,0,0,0.3);
            color: white;
            width: 80%;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .popup{
            position:fixed;
            inset:0;
            background:rgba(0,0,0,.9);
            display:none;
            align-items:center;
            justify-content:center;
            z-index:999;
            padding: 20px;
        }
        .popup-content{ background:#ff4d88; padding:25px; border-radius:20px; font-weight:bold; font-size: 18px; }
        .progress{ width:100%; background:#333; border-radius:20px; margin: 20px 0; overflow:hidden;}
        .bar{ height:10px; width:0%; background:#ff4d88; transition: 0.1s;}
        #note{ white-space:pre-line; text-align:left; font-size: 14px; line-height:1.7; color: #eee; }
        
        #confessionText {
            line-height: 1.8;
            font-size: 18px;
            color: #ffdaeb;
            font-family: 'Dancing Script', cursive;
        }
    </style>
</head>

<body>

<section class="active" id="s1">
    <div class="card">
        <h1 class="special-header">Happy New Year Annnnuuuuuu üíñ</h1>
        <p>I built this because a simple text wasn't enough.</p>
        <button onclick="next(1)">Enter the Chapter</button>
    </div>
</section>

<section id="s2">
    <div class="card">
        <h2>Unlock the journey</h2>
        <p id="riddleText">Something that brought us together...</p>
        <input type="text" id="pass" placeholder="Enter the magic number...">
        <div id="riddleBtns">
            <button onclick="unlock()">Unlock</button>
            <button id="hintBtn" style="background:#555" onclick="cycleHint()">Hint chahiye?</button>
        </div>
    </div>
</section>

<audio id="song" loop><source src="darkhaast.mp3"></audio>

<section id="s3">
    <div class="card">
        <img id="photo" src="" alt="Memory">
        <div id="photoText" style="margin: 10px 0; font-family:'Dancing Script'; font-size: 20px; color: #ff9ecf;"></div>
        <button id="nextPhotoBtn" onclick="nextPhoto()">Aur dikhao! ‚ú®</button>
    </div>
</section>

<section id="s4">
    <div class="card">
        <h2 style="font-family:'Pacifico'; font-size: 24px;">A small confession...</h2>
        <div id="confessionText"></div>
        <div id="movieLine" style="display:none; margin-top: 15px; font-weight: bold;">
            <p>2025 was just a trailer.</p>
            <p style="color:#ff4d88">2026 is our main movie. üé¨</p>
            <button onclick="next(4)">Chalo movie shuru karein?</button>
        </div>
    </div>
</section>

<section id="s5">
    <div class="card">
      <h2 style="font-family:'Pacifico'">Our 2026 Bucket List üñ§</h2>
      <p id="bucketMood" style="font-size:14px;opacity:.85;margin-bottom:15px">
        Pick the ones that feel exciting‚Ä¶ ‚ú®
      </p>
  
      <div class="bucket-list">
        <div class="bucket-item fancy" onclick="selectBucket(this)">
          <span class="emoji">üåÜ</span>
          <span class="text">Explore the whole city together</span>
        </div>
        <div class="bucket-item fancy" onclick="selectBucket(this)">
          <span class="emoji">üöó</span>
          <span class="text">A random late-night long drive</span>
        </div>
        <div class="bucket-item fancy" onclick="selectBucket(this)">
          <span class="emoji">üçΩÔ∏è</span>
          <span class="text">One proper lunch or dinner, no rush</span>
        </div>
      </div>
  
      <p id="bucketCount" style="margin-top:15px;font-weight:600;color:#ff9ecf">0 / 3 chosen</p>
      
      <p id="bucketSurprise" style="display:none; font-size:13px; font-style:italic; color:#ffdaeb; margin: 10px 0;">
        "Choose one option toh ese hi likha tha krnge toh hum sb kuchh hii Annnnnuuuuuuuuu"
      </p>
  
      <button id="bucketBtn" style="display:none" onclick="next(5); loadQuestion();">
        This already feels nice üí´
      </button>
    </div>
</section>

<section id="s6">
    <div class="card">
        <h2 id="qTitle">Batao Batao... üí´</h2>
        <p id="qText" style="font-weight:600; font-size: 16px; margin-bottom: 20px;"></p>
        <div id="choiceOptions" style="display:flex; flex-direction:column; gap:10px;"></div>
    </div>
</section>

<section id="s7">
    <div class="card">
        <h2 style="font-family:'Dancing Script'; font-size: 24px;">Moving to New Chapter 2026</h2>
        <div class="progress"><div class="bar" id="bar"></div></div>
        <p id="percent">0%</p>
    </div>
</section>

<section id="s8">
    <div class="card" style="max-width: 450px;">
        <h1 class="special-header">Listen Annnnnuuuuuuuuuu</h1>
        <hr style="border: 0; border-top: 1px solid rgba(255,255,255,0.1); margin: 15px 0;">
        <p id="note"></p>
        <div id="finalAction" style="display:none; margin-top:20px;">
             <button onclick="redirectBack()" style="font-size: 16px; padding: 12px 24px; animation: heartBeat 1.5s infinite;">Chalo vapis shuru se dekhte hain ‚ù§Ô∏è</button>
        </div>
    </div>
</section>

<div class="popup" id="popup"><div class="popup-content" id="popText"></div></div>

<script>
let currentPhoto = 0;
let wrongCount = 0;
let hintState = 0;
const photos = ["photo1.jpg", "photo2.jpg", "photo3.jpg", "photo4.jpg"];
const texts = ["üå∏ Pure smiles, pure you ü§ç", "‚ú® A moment that stays", "üí´ Comfort in memories", "üñ§ Always special"];
const btnTexts = ["Aur dikhao! ‚ú®", "Ek aur memory! üì∏", "Chalo aage.. üå∏", "Last Memory! ‚ù§Ô∏è"];
const wrongMessages = ["Arey Duffer! Galat hai. üòÇ", "Itna bhi yaad nahi? Try again! üôÑ", "Arey yar, focus! Calendar check kar lo? ü§î", "Kya baat hai? Bhulne ki bimari hai kya? üòÜ"];

const questions = [
    { t: "Hamare liye 2026 mein kya badalna chahiye?", options: ["More Time Together", "More Adventures", "More Food!"], responses: ["Sahi kaha, jitna time ho utna kam hai tumhare sath! ‚ù§Ô∏è", "Bilkul! Pure world ghumenge sath mein! ‚ú®", "Haha, foodie kahin ki! Done, party meri taraf se! üçï"] },
    { t: "Agar hum bore ho rahe ho, toh kya karenge?", options: ["Lambi Baatein", "Silent Walk", "Pareshan Karna"], responses: ["Tumhari baatein kabhi khatam na ho, main sunta raunga! üó£Ô∏è‚ù§Ô∏è", "Peaceful vibes with the most peaceful person! ü´Ç", "Ye toh tumhara birthright hai, allow hai! üòÇ"] },
    { t: "Tumhe meri sabse pyari baat kya lagti hai?", options: ["The Way I Listen", "My Silly Jokes", "Everything ‚ù§Ô∏è"], responses: ["I'm always here for your stories, every single one! üëÇüíó", "Tumhe hasana mera favorite kaam hai! üòÇ‚ú®", "And you are my favorite 'Everything'! ü´Ç"] },
    { t: "2026 ka sabse bada promise?", options: ["No More Fights", "Always Staying Close", "More Midnight Chats"], responses: ["Fights toh thodi hongi, par manana bhi toh pyara hota hai! üòâ", "Hamesha. No matter what. ü§ù‚ù§Ô∏è", "Need more nights to talk about life with you! üåå"] },
    { t: "Me ‚ù§Ô∏è vs Khana üçï", options: ["Me ‚ù§Ô∏è", "Khana üçï"], responses: ["HUG", "NAH"] }
];

function unlock() {
    if(document.getElementById("pass").value === "29") {
        next(2);
        showPhoto();
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
        document.getElementById("song").play();
    } else {
        showPopup(wrongMessages[wrongCount % wrongMessages.length]);
        wrongCount++;
    }
}

function next(n) {
    document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
    document.getElementById("s" + (n + 1)).classList.add("active");
    if(n === 3) startConfession();
}

function showPhoto() {
    document.getElementById("photo").src = photos[currentPhoto];
    document.getElementById("photoText").innerText = texts[currentPhoto];
    document.getElementById("nextPhotoBtn").innerText = btnTexts[currentPhoto];
}

function nextPhoto() {
    currentPhoto++;
    if(currentPhoto < photos.length) showPhoto();
    else next(3);
}

function startConfession() {
    const text = "I don't remember every date...\nBut I remember exactly how I felt in every moment with you.\nYou make everything feel so much more real.";
    let i = 0;
    const el = document.getElementById("confessionText");
    el.innerHTML = "";
    function type() {
        if(i < text.length) {
            el.innerHTML += text.charAt(i) === "\n" ? "<br>" : text.charAt(i);
            i++;
            setTimeout(type, 60);
        } else {
            document.getElementById("movieLine").style.display = "block";
        }
    }
    type();
}

function selectBucket(el) {
    el.classList.toggle('selected');
    const selectedCount = document.querySelectorAll('.bucket-item.fancy.selected').length;
    document.getElementById('bucketCount').innerText = `${selectedCount} / 3 chosen`;
    
    if(selectedCount >= 3) {
        document.getElementById('bucketSurprise').style.display = 'block';
        document.getElementById('bucketBtn').style.display = 'inline-block';
    } else {
        document.getElementById('bucketSurprise').style.display = 'none';
        document.getElementById('bucketBtn').style.display = 'none';
    }
}

let currentQ = 0;
function loadQuestion() {
    const q = questions[currentQ];
    document.getElementById("qText").innerText = q.t;
    const container = document.getElementById("choiceOptions");
    container.innerHTML = "";
    q.options.forEach((opt, idx) => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.onclick = () => handleChoice(idx);
        container.appendChild(btn);
    });
}

function handleChoice(idx) {
    const q = questions[currentQ];
    const resp = q.responses[idx];
    if (resp === "HUG") {
        showPopup("ü´Ç EKDUM PERFECT CHOICE! Main hi hona chahiye tha! üòâ", 3000);
        confetti({ particleCount: 300, spread: 100 });
    } else if (resp === "NAH") {
        showPopup("Achhaaa? Bhuki ho? Mujhse zyada khana zaruri hai? Try again! üôÑ", 3000);
        return;
    } else {
        showPopup(resp, 2000);
    }
    setTimeout(() => {
        currentQ++;
        if(currentQ < questions.length) loadQuestion();
        else { next(6); startLoading(); }
    }, 1800);
}

function startLoading() {
    let p = 0;
    let interval = setInterval(() => {
        p++;
        document.getElementById("bar").style.width = p + "%";
        document.getElementById("percent").innerText = p + "%";
        if(p >= 100) {
            clearInterval(interval);
            next(7);
            writeNote();
        }
    }, 40);
}

const finalNote = `I just wanted you to have this moment. Take it slowly, smile if you feel like it, 
and carry it with you as the year changes. , 
I‚Äôm really grateful for you  for the comfort we share, for the way things feel easy between us, 
and for how naturally you‚Äôve become a part of my life. 

As we step into the new year, I hope we keep choosing this connection, this laughter, and this quiet togetherness.
you are someone I care about deeply, someone who makes days lighter just by being there.

Time will change, years will change, but I‚Äôll try  really try  to keep us the same where it matters most.

Happy New Year merii 300 gram Bhindiiiiiiiiii ü§ç`;

let noteIdx = 0;
function writeNote() {
    const el = document.getElementById("note");
    if(noteIdx < finalNote.length) {
        el.innerHTML += finalNote.charAt(noteIdx);
        noteIdx++;
        setTimeout(writeNote, 50);
    } else {
        document.getElementById("finalAction").style.display = "block";
    }
}

function showPopup(msg, time = 2000) {
    const p = document.getElementById("popup");
    document.getElementById("popText").innerText = msg;
    p.style.display = "flex";
    setTimeout(() => p.style.display = "none", time);
}

function redirectBack() { location.reload(); }

function cycleHint() {
    const r = document.getElementById("riddleText");
    const b = document.getElementById("hintBtn");
    if(hintState === 0) {
        r.innerText = "It's a date... our special date. üòâ";
        b.innerText = "Ek aur hint?";
        hintState = 1;
    } else {
        r.innerText = "Arey wo date jisne humein 'Hum' banaya!";
        b.style.display = "none";
    }
}
</script>
</body>
</html>